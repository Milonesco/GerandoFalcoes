@{
    ViewData["Title"] = "Criar Curso";
    var unidades = ViewBag.Unidades as System.Text.Json.JsonElement?;
}

<h1>Criar Curso</h1>

<form asp-action="Create" method="post" enctype="multipart/form-data">
    <div class="mb-3">
        <label class="form-label">Nome</label>
        <input name="Nome" class="form-control" />
    </div>
    <div class="mb-3">
        <label class="form-label">Descrição</label>
        <textarea name="Descricao" class="form-control"></textarea>
    </div>
    <div class="mb-3">
        <label class="form-label">Unidade</label>
        <select name="UnidadeId" class="form-control">
            @if (unidades != null && unidades.Value.ValueKind == System.Text.Json.JsonValueKind.Array)
            {
                foreach (var u in unidades.Value.EnumerateArray())
                {
                    <option value="@u.GetProperty("idUnidade").GetInt32()">@u.GetProperty("nome").GetString()</option>
                }
            }
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Imagem do Curso (opcional)</label>
        <input type="file" name="imagem" class="form-control" />
    </div>
    <button class="btn btn-primary">Criar</button>
</form>
